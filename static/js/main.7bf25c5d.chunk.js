(this.webpackJsonpnctstats=this.webpackJsonpnctstats||[]).push([[0],{31:function(e,t,n){e.exports=n(42)},36:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"BLOCK",(function(){return p})),n.d(a,"BOUNTY",(function(){return w})),n.d(a,"ASSERTION",(function(){return N})),n.d(a,"REVEAL",(function(){return C})),n.d(a,"VOTE",(function(){return k})),n.d(a,"QUORUM",(function(){return M})),n.d(a,"SETTLED",(function(){return j})),n.d(a,"INITIALIZED_CHANNEL",(function(){return I}));var r=n(0),c=n.n(r),l=n(18),o=n.n(l),u=(n(36),n(3)),i=n(15),m=n(10),s=n(29),d=n(20),E=n(8),h=n(12),f=n(11),v=n(9),b=function e(t){Object(v.a)(this,e),this.timestamp=Date.now(),this.message=t,this.block_number=t.data.number},_=function e(t){Object(v.a)(this,e),this.timestamp=Date.now(),this.message=t,this.block_number=t.block_number,this.txhash=t.txhash},O=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).guid=e.data.guid,a.author=e.data.author,a.amount=e.data.amount/Math.pow(10,18),a}return n}(_),y=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).bounty_guid=e.data.bounty_guid,a.author=e.data.author,a.bid=e.data.bid/Math.pow(10,18),a}return n}(_),g=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).bounty_guid=e.data.bounty_guid,a.author=e.data.author,a.verdict=e.data.verdicts[0],a}return n}(_),p="block",w="bounty",N="assertion",C="Reveal",k="Vote",M="Quorum",j="settled_bounty",I="Initialized Channel",T=function(e,t){t.count+=1,t.last=e,t.messages=[e].concat(Object(E.a)(t.messages.slice(0,20)))},S=Object(m.c)({community:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,(function(e){switch(t.type){case"COMMUNITY_CONNECT":return void(e[t.community_url]={community_name:t.community_name,community_url:t.community_url,connection:{initiated:Date.now(),succeded:null,closed:null,errors:[]},messages:{last:null,last_error:null}});case"COMMUNITY_CONNECT__SUCCEEDED":return void(e[t.community_url].connection.succeded=Date.now());case"COMMUNITY_CONNECTION__CLOSED":return void(e[t.community_url].connection.closed=Date.now());case"COMMUNITY_CONNECTION__ERROR":return void e[t.community_url].connection.errors.push({timestamp:Date.now(),event:t.event});case"COMMUNITY_CONNECTION_MESSAGE":return void(e[t.community_url].messages.last={timestamp:Date.now(),event:t.event});case"COMMUNITY_CONNECTION_MESSAGE__SUCCEEDED":return;case"COMMUNITY_CONNECTION_MESSAGE__FAILED":return void(e[t.community_url].messages.last_error={timestamp:Date.now(),err:t.err});default:return}}))},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,(function(e){switch(t.type){case"COMMUNITY_CONNECT":return void(e[t.community_url]=Object.keys(a).reduce((function(e,t){return e[a[t]]={count:0,last:null,messages:[]},e}),{}));case"COMMUNITY_CONNECTION_MESSAGE__SUCCEEDED":var n,r;switch(t.data.event){case p:return n=new b(t.data),r=e[t.community_url][p],void T(n,r);case w:return n=new O(t.data),r=e[t.community_url][w],T(n,r),void(r.total_amount=(r.total_amount||0)+n.amount);case N:return n=new y(t.data),r=e[t.community_url][N],T(n,r),void(r.total_bid=(r.total_bid||0)+n.bid);case C:return n=new g(t.data),r=e[t.community_url][C],void T(n,r);case j:return n=new n.MessageSettled(t.data),r=e[t.community_url][j],T(n,r),void(r.total_payout=(r.total_payout||0)+n.payout);default:return}default:return}}))}}),D=function(e,t){return S(e,t)},x=function(){var e=Object(m.a)(s.a),t=Object(m.d)(e,window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e});return Object(m.e)(D,void 0,t)}(),U=n(30),A=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={hasError:!1,error:null},a}return Object(U.a)(n,[{key:"render",value:function(){return this.state.hasError?c.a.createElement("h1",null,"Something went wrong. Please reload the page"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(c.a.Component),W=n(2),Y=n(14),L=function(e){return c.a.createElement("svg",{viewBox:"0 0 ".concat(e.W," ").concat(e.H),preserveAspectRatio:"none",style:{width:"100%",height:"100%"}},e.children)},R=function(e){var t=e.W-e.w-(e.w+e.gapW)*(e.noOfDataPoints-e.currentDataPointIndex-1);return c.a.createElement("path",{d:"M ".concat(t," ").concat(e.H," v -").concat(e.h," h ").concat(e.w," v ").concat(e.h," Z"),fill:e.fill})},H=function(e){var t=e.maxNoOfDataPoints*(e.w+e.gapW)-e.gapW;return c.a.createElement(L,{W:t,H:e.H},e.data.map((function(n,a){return c.a.createElement(R,{key:a,fill:e.barFill,currentDataPointIndex:a,noOfDataPoints:e.data.length,gapW:e.gapW,W:t,H:e.H,w:e.w,h:n.h})})),c.a.createElement("path",{d:"M 0 ".concat(e.H," m 0 -").concat(e.avg," l ").concat(t," 0"),stroke:e.avgLineStrokeColor,strokeWidth:e.avgLineStrokeWidth}))};H.defaultProps={avgLineStrokeColor:"#7bfa7f",barFill:"#6d3aec",gapW:1,w:10};var P=function(e){var t=e.amount.toFixed(8).split("."),n=Object(Y.a)(t,2),a=n[0],r=n[1];return c.a.createElement("span",null,c.a.createElement("span",null,a),c.a.createElement("span",{style:{opacity:.64}},c.a.createElement("span",null,"."),c.a.createElement("span",null,r)),c.a.createElement("span",null,"NCT"))},B=function(e){var t=Object(u.c)((function(e){return e.messages["wss://nu.k.polyswarm.network/v1/events/?chain=side"][N].last})),n=Object(r.useState)([]),a=Object(Y.a)(n,2),l=a[0],o=a[1];Object(r.useEffect)((function(){t&&o((function(e){var n=e.findIndex((function(e){return e.name===t.block_number}));return-1===n?(20===e.length&&e.shift(),[].concat(Object(E.a)(e),[{name:t.block_number,h:t.bid}])):(e[n].h+=t.bid,Object(E.a)(e))}))}),[t]);var i=l.length?Math.max.apply(Math,Object(E.a)(l.map((function(e){return e.h})))):0,m=l.reduce((function(e,t){return e+t.h}),0),s=0===m?0:m/l.length;return c.a.createElement("div",{style:{height:"10em",marginBottom:"1.618em"}},c.a.createElement(H,{data:l,maxNoOfDataPoints:20,H:i,avg:s,avgLineStrokeWidth:2*i/120}),c.a.createElement("div",null,"average per block ",c.a.createElement(P,{amount:s})))},F=function(e){var t=Object(u.c)((function(e){return e.messages["wss://nu.k.polyswarm.network/v1/events/?chain=side"][N].total_bid}));return c.a.createElement("div",null,c.a.createElement("div",null,"total bid"),c.a.createElement("div",null,c.a.createElement(P,{amount:t||0})))},G=function(e){var t=Object(u.c)((function(e){return e.messages["wss://nu.k.polyswarm.network/v1/events/?chain=side"][N].count}));return c.a.createElement("div",null,c.a.createElement("div",null,"count"),c.a.createElement("div",null,t))},z=function(e){var t=Object(u.c)((function(e){return e.messages["wss://nu.k.polyswarm.network/v1/events/?chain=side"][N].messages}));return c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{style:{textAlign:"left"}},"block"),c.a.createElement("th",{style:{textAlign:"left"}},"bounty guid"),c.a.createElement("th",{style:{textAlign:"right"}},"bid"))),c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement("tr",{key:"".concat(Date.now(),"-").concat(e.author,"-").concat(e.bounty_guid)},c.a.createElement("td",null,e.block_number),c.a.createElement("td",null,e.bounty_guid),c.a.createElement("td",null,c.a.createElement(P,{amount:e.bid})))}))))},V=function(e){var t=Object(u.c)((function(e){return e.messages["wss://nu.k.polyswarm.network/v1/events/?chain=side"][w].last})),n=Object(r.useState)([]),a=Object(Y.a)(n,2),l=a[0],o=a[1];Object(r.useEffect)((function(){t&&o((function(e){var n=e.findIndex((function(e){return e.name===t.block_number}));return-1===n?(20===e.length&&e.shift(),[].concat(Object(E.a)(e),[{name:t.block_number,h:t.amount}])):(e[n].h+=t.amount,Object(E.a)(e))}))}),[t]);var i=l.length?Math.max.apply(Math,Object(E.a)(l.map((function(e){return e.h})))):0,m=l.reduce((function(e,t){return e+t.h}),0),s=0===m?0:m/l.length;return c.a.createElement("div",{style:{height:"10em",marginBottom:"1.618em"}},c.a.createElement(H,{data:l,maxNoOfDataPoints:20,H:i,avg:s,avgLineStrokeWidth:2*i/120}),c.a.createElement("div",null,"average per block ",c.a.createElement(P,{amount:s})))},X=function(e){var t=Object(u.c)((function(e){return e.messages["wss://nu.k.polyswarm.network/v1/events/?chain=side"][w].total_amount}));return c.a.createElement("div",null,c.a.createElement("div",null,"total amount"),c.a.createElement("div",null,c.a.createElement(P,{amount:t||0})))},J=function(e){var t=Object(u.c)((function(e){return e.messages["wss://nu.k.polyswarm.network/v1/events/?chain=side"][w].count}));return c.a.createElement("div",null,c.a.createElement("div",null,"count"),c.a.createElement("div",null,t))},Q=function(e){var t=Object(u.c)((function(e){return e.messages["wss://nu.k.polyswarm.network/v1/events/?chain=side"][w].messages}));return c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{style:{textAlign:"left"}},"block"),c.a.createElement("th",{style:{textAlign:"left"}},"guid"),c.a.createElement("th",{style:{textAlign:"right"}},"bid"))),c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement("tr",{key:"".concat(Date.now(),"-").concat(e.guid)},c.a.createElement("td",null,e.block_number),c.a.createElement("td",null,e.guid),c.a.createElement("td",null,c.a.createElement(P,{amount:e.amount})))}))))},Z=function(e){return c.a.createElement("section",null,c.a.createElement("header",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:"0.618em 1.618em"}},c.a.createElement("div",{style:{background:"#6d3aec",display:"inline-block",padding:"1em",borderRadius:"50%"}},c.a.createElement("div",{style:{height:32,width:34}},c.a.createElement("svg",{id:"polyswarm-logo",viewBox:"0 0 34 32"},c.a.createElement("path",{fill:"#ffffff",d:"M3.624 8.457h16.707c2.5 0 4.534 2.018 4.534 4.497s-2.034 4.497-4.534 4.497h-9.040c-0.712 0-1.291 0.574-1.291 1.28s0.579 1.28 1.291 1.28h9.039c3.924 0 7.116-3.166 7.116-7.058s-3.192-7.058-7.116-7.058h-16.706c-0.712 0-1.291 0.574-1.291 1.28s0.579 1.28 1.291 1.28z"}),c.a.createElement("path",{fill:"#ffffff",d:"M20.331 0h-6.479c-0.712 0-1.291 0.574-1.291 1.28s0.579 1.28 1.291 1.28h6.479c5.778 0 10.479 4.662 10.479 10.394s-4.701 10.393-10.479 10.393h-16.46c-0.712 0-1.291 0.574-1.291 1.28s0.579 1.28 1.291 1.28h16.459c7.202 0 13.060-5.811 13.060-12.954s-5.858-12.954-13.060-12.954z"}),c.a.createElement("path",{fill:"#ffffff",d:"M12.846 12.954c0-0.706-0.579-1.28-1.291-1.28h-3.146c-0.712 0-1.291 0.574-1.291 1.28 0 0.709 0.571 1.28 1.043 1.28h3.146c0.906 0 1.539-0.527 1.539-1.28z"}),c.a.createElement("path",{fill:"#ffffff",d:"M8.76 29.243h-7.469c-0.712 0-1.291 0.574-1.291 1.28s0.579 1.28 1.291 1.28h7.469c0.712 0 1.291-0.574 1.291-1.28s-0.579-1.28-1.291-1.28z"})))),c.a.createElement("div",{style:{border:"1px solid ".concat("#6d3aec"),borderRadius:"1em",padding:"0.382em 1.618em",position:"relative",left:"-1.618em",zIndex:"-1"}},c.a.createElement("span",{style:{backgroundColor:"#7bfa7f",borderRadius:"50%",display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle",margin:"0 0.382em",animation:"beacon 1.2s infinite ease-in-out",opacity:.7}}),c.a.createElement("span",null,"wss://nu.k.polyswarm.network/v1/events/?chain=side"))),c.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},c.a.createElement("div",{style:{padding:"0 0 0 1.618em"}},c.a.createElement("h3",null,"bounties"),c.a.createElement(V,null),c.a.createElement("div",{style:{height:"1em"}}),c.a.createElement(J,null),c.a.createElement("div",{style:{height:"1em"}}),c.a.createElement(X,null),c.a.createElement("div",{style:{height:"1em"}}),c.a.createElement(Q,null)),c.a.createElement("div",{style:{padding:"0 0 0 1.618em"}},c.a.createElement("h3",null,"assertions"),c.a.createElement(B,null),c.a.createElement("div",{style:{height:"1em"}}),c.a.createElement(G,null),c.a.createElement("div",{style:{height:"1em"}}),c.a.createElement(F,null),c.a.createElement("div",{style:{height:"1em"}}),c.a.createElement(z,null))))},K=function(e,t){return function(n){!function(e,t){return function(n){n({type:"COMMUNITY_CONNECT",community_name:e,community_url:t});var a=new WebSocket(t);a.onopen=function(a){n({type:"COMMUNITY_CONNECT__SUCCEEDED",community_name:e,community_url:t,event:a})},a.onclose=function(a){n({type:"COMMUNITY_CONNECTION__CLOSED",community_name:e,community_url:t,event:a})},a.onerror=function(a){n({type:"COMMUNITY_CONNECTION__ERROR",community_name:e,community_url:t,event:a})},a.onmessage=function(a){n({type:"COMMUNITY_CONNECTION_MESSAGE",community_name:e,community_url:t,event:a}),new Promise((function(e,t){try{var n;"function"===typeof(null===(n=a.data)||void 0===n?void 0:n.text)?a.data.text().then((function(t){return e(t)})).catch((function(e){return t(e)})):e(JSON.parse(a.data))}catch(r){t(r)}})).then((function(a){n({type:"COMMUNITY_CONNECTION_MESSAGE__SUCCEEDED",community_name:e,community_url:t,data:a})})).catch((function(a){n({type:"COMMUNITY_CONNECTION_MESSAGE__FAILED",community_name:e,community_url:t,err:a})}))}}}(e,t)(n)}},$=function(e){return Object(u.b)()(K("","wss://nu.k.polyswarm.network/v1/events/?chain=side")),c.a.createElement(Z,null)},q=function(e){return c.a.createElement("section",null,c.a.createElement("h2",null,"404 Not Found"),c.a.createElement("div",null,c.a.createElement(i.b,{to:"/",tabIndex:"-1"},c.a.createElement("span",null,"/"))))},ee=function(e){return c.a.createElement("main",null,c.a.createElement(W.d,null,c.a.createElement(W.b,{exact:!0,path:"/404",component:q}),c.a.createElement(W.b,{exact:!0,path:"/",component:$}),c.a.createElement(W.b,{path:"/dashboard",component:Z}),c.a.createElement(W.a,{to:"/404"})))},te=function(e){return c.a.createElement(u.a,{store:x},c.a.createElement(i.a,{basename:"/nctstats"},c.a.createElement(A,null,c.a.createElement(ee,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.7bf25c5d.chunk.js.map